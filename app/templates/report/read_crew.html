{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}


{% block page_content %}

    <form class="form form-inline" method="post" role="form">
        {{ form.hidden_tag() }}
        {{ wtf.form_errors(form, hiddens="only") }}

        <i class="fa fa-calendar-minus-o" aria-hidden="true"></i>{{ wtf.form_field(form.start_at) }}
        <i class="fa fa-calendar-plus-o" aria-hidden="true"></i>{{ wtf.form_field(form.end_at) }}
        <hr style="height:10pt; visibility:hidden;" />

        <i class="fa fa-user" aria-hidden="true"></i>{{ wtf.form_field(form.user) }}
        <i class="fa fa-users" aria-hidden="true"></i>{{ wtf.form_field(form.department) }}

        <i class="fa fa-search" aria-hidden="true"></i>{{ wtf.form_field(form.submit) }}
    </form>
    <hr>


    {% for report in pagination.items %}
    <div class="post-preview">

        <a rel="tag" class="post-tag">{{_('Employee')}}:{{ report.get_author_name() }}</a>
        <a rel="tag" class="post-tag">{{_('Week Count')}}:{{ report.week_count }}</a>
        <a rel="tag" class="post-tag">{{_('Department')}}:{{ report.get_department_name() }}</a>

        {{report.content|safe}}
        <hr>
    </div>
    {% endfor %}

    <ul class="pager">
        {% if pagination.has_prev %}
            <li class="previous"><a href="/subordinate_report/{{pagination.page-1 }}">&larr; Newer </a></li>
        {% else %}
            <li class="previous disabled"><a href="#">&larr; Newer </a></li>
        {% endif %}

        {% if pagination.has_next %}
            <li class="next"><a href="/subordinate_report/{{pagination.page+1}}">Older &rarr;</a></li>
        {% else %}
            <li class="next disabled"><a href="#">Older &rarr;</a></li>
        {% endif %}
    </ul>

{% endblock %}
